# ══════════════════════════════════════════════════════════════════════════════
# 🏗️ BTP CONNECT v9.3.0 - Environment Variables
# ══════════════════════════════════════════════════════════════════════════════
#
# INSTRUCTIONS:
# 1. Copy this file: cp .env.example .env
# 2. Generate secure passwords: openssl rand -base64 32
# 3. Replace ALL placeholder values
# 4. NEVER commit .env to version control!
#
# ══════════════════════════════════════════════════════════════════════════════

# ══════════════════════════════════════════════════════════════════════════════
# DATABASE (MySQL)
# ══════════════════════════════════════════════════════════════════════════════
# For Docker Compose
MYSQL_ROOT_PASSWORD=CHANGE_ME_STRONG_ROOT_PASSWORD_32_CHARS
MYSQL_DATABASE=btp_connect
MYSQL_USER=btpuser
MYSQL_PASSWORD=CHANGE_ME_STRONG_USER_PASSWORD_32_CHARS
MYSQL_PORT=3306

# For Prisma (use this in backend/.env)
DATABASE_URL="mysql://btpuser:CHANGE_ME_STRONG_USER_PASSWORD_32_CHARS@localhost:3306/btp_connect"

# ══════════════════════════════════════════════════════════════════════════════
# JWT AUTHENTICATION
# ══════════════════════════════════════════════════════════════════════════════
# Generate with: openssl rand -base64 32
# Use DIFFERENT secrets for access and refresh tokens!
JWT_ACCESS_SECRET=CHANGE_ME_ACCESS_SECRET_MINIMUM_32_CHARACTERS
JWT_REFRESH_SECRET=CHANGE_ME_REFRESH_SECRET_MINIMUM_32_CHARACTERS
JWT_ACCESS_TTL=15m
JWT_REFRESH_TTL=7d

# ══════════════════════════════════════════════════════════════════════════════
# SERVER CONFIGURATION
# ══════════════════════════════════════════════════════════════════════════════
PORT=3000
HOST=127.0.0.1
# Set to 'production' for production deployment
NODE_ENV=development
LOG_LEVEL=info

# ══════════════════════════════════════════════════════════════════════════════
# CORS (Cross-Origin Resource Sharing)
# ══════════════════════════════════════════════════════════════════════════════
# Comma-separated list of allowed origins for production
# Example: https://btpconnect.fr,https://app.btpconnect.fr
CORS_ORIGIN=

# ══════════════════════════════════════════════════════════════════════════════
# EMAIL (SMTP)
# ══════════════════════════════════════════════════════════════════════════════
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-specific-password
SMTP_FROM=BTP Connect <noreply@btpconnect.fr>

# ══════════════════════════════════════════════════════════════════════════════
# MONITORING (Optional)
# ══════════════════════════════════════════════════════════════════════════════
# API key required to access /health/metrics endpoint in production
METRICS_API_KEY=CHANGE_ME_METRICS_API_KEY

# Enable verbose health checks (shows metrics in /health response)
HEALTH_VERBOSE=0

# ══════════════════════════════════════════════════════════════════════════════
# DEVELOPMENT ONLY
# ══════════════════════════════════════════════════════════════════════════════
# ⚠️ AUTH_BYPASS is BLOCKED in production (NODE_ENV=production)
# Set to 1 ONLY for local development without authentication
AUTH_BYPASS=0

# ══════════════════════════════════════════════════════════════════════════════
# ⚠️ SECURITY CHECKLIST
# ══════════════════════════════════════════════════════════════════════════════
#
# Before deploying to production:
#
# ✅ All CHANGE_ME values replaced with strong random passwords
# ✅ JWT secrets are unique and at least 32 characters
# ✅ NODE_ENV=production
# ✅ AUTH_BYPASS=0 (or removed entirely)
# ✅ CORS_ORIGIN set to your actual domains
# ✅ This .env file is NOT committed to git
# ✅ Database passwords are different from development
#
# Generate secure passwords:
#   openssl rand -base64 32
#
# ══════════════════════════════════════════════════════════════════════════════
